repos:
  # Security scanning with Semgrep
  - repo: https://github.com/semgrep/semgrep
    rev: v1.140.0
    hooks:
      - id: semgrep
        args:
          - '--config=auto'
          - '--error'
          - '--exclude=tests/'
          - '--exclude=__pycache__/'

  # Secret detection
  - repo: https://github.com/Yelp/detect-secrets
    rev: v1.5.0
    hooks:
      - id: detect-secrets
        args:
          - '--baseline'
          - '.secrets.baseline'
          - '--force-use-all-plugins'

  # Python security
  - repo: https://github.com/PyCQA/bandit
    rev: '1.7.9'
    hooks:
      - id: bandit
        args: ['-c', 'pyproject.toml']
        additional_dependencies: ['bandit[toml]']

  # General security checks
  - repo: https://github.com/PyCQA/safety
    rev: '3.2.11'
    hooks:
      - id: safety
        args:
          - '--ignore=70612'  # Adjust ignore list as needed

  # Code formatting (bonus)
  - repo: https://github.com/psf/black
    rev: '24.10.0'
    hooks:
      - id: black

  # Import sorting
  - repo: https://github.com/PyCQA/isort
    rev: '5.13.2'
    hooks:
      - id: isort
        args: ["--profile", "black"]